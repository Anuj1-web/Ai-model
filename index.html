<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Sitegen â€” Home</title>
  <style>
    body { font-family: sans-serif; margin: 0; background: #fff; color: #000; }
    header { padding: 1rem 2rem; border-bottom: 1px solid #ccc; display: flex; justify-content: space-between; align-items: center; }
    h1 { margin: 0; font-size: 1.5rem; }
    button { background: #000; color: #fff; border: none; border-radius: .5rem; padding: .5rem 1rem; cursor: pointer; }
    button:hover { opacity: 0.8; }
    .container { padding: 2rem; display: grid; grid-template-columns: repeat(auto-fill, minmax(240px, 1fr)); gap: 1.5rem; }
    .card { border: 1px solid #ddd; border-radius: 1rem; overflow: hidden; background: #fff; display: flex; flex-direction: column; }
    .card img { width: 100%; height: 160px; object-fit: cover; background: #f0f0f0; }
    .card .info { padding: 1rem; flex: 1; display: flex; flex-direction: column; }
    .card h3 { margin: 0 0 .5rem 0; font-size: 1.1rem; }
    .card p { margin: 0; flex: 1; font-size: .9rem; color: #555; }
    .card button { margin-top: 1rem; }
    .empty { text-align: center; color: #777; margin-top: 4rem; }
  </style>
</head>
<body>
  <header>
    <h1>Sitegen</h1>
    <a href="library.html"><button>Library</button></a>
  </header>

  <main>
    <div class="container" id="templatesContainer"></div>
    <div class="empty" id="emptyMessage" style="display:none;">No templates available yet. Add some from Library.</div>
  </main>

  <script>
    const container = document.getElementById("templatesContainer");
    const emptyMsg = document.getElementById("emptyMessage");

    function loadTemplates() {
      const data = JSON.parse(localStorage.getItem("sitegen_library") || "{}");
      const templates = (data.templates || []);
      container.innerHTML = "";

      if (templates.length === 0) {
        emptyMsg.style.display = "block";
        return;
      }
      emptyMsg.style.display = "none";

      templates.forEach((tpl, index) => {
        const card = document.createElement("div");
        card.className = "card";

        const img = document.createElement("img");
        img.src = tpl.thumbnail || "https://via.placeholder.com/300x160?text=Template";
        card.appendChild(img);

        const info = document.createElement("div");
        info.className = "info";
        info.innerHTML = `
          <h3>${tpl.name || "Untitled Template"}</h3>
          <p>${tpl.description || "No description"}</p>
        `;
        const btn = document.createElement("button");
        btn.textContent = "Edit Template";
        btn.onclick = () => {
          localStorage.setItem("sitegen_active_template", JSON.stringify(tpl));
          window.location.href = "wizard-maker.html";
        };

        info.appendChild(btn);
        card.appendChild(info);
        container.appendChild(card);
      });
    }

    loadTemplates();
  </script>
</body>
</html>
